<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLAC - Student Learning & Activity Center</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">SLAC</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#facilities">Facilities</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-light btn-sm ml-2" href="php/auth/login.php">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- V2FuZyBLYWl4aW4gLSAxMzA2MzE4 -->
    <div class="container mt-3" id="welcome-message"></div>

    <!-- Hero Section -->
    <header class="jumbotron jumbotron-fluid text-center">
        <div class="container">
            <h1 class="display-4">Student Learning & Activity Center</h1>
            <p class="lead">Explore Wenzhou-Kean University's SLAC facility through our interactive floor plans</p>
            <a href="#floor-plans" class="btn btn-primary btn-lg">Explore Floor Plans</a>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <h2>About SLAC</h2>
                    <p>The Student Learning & Activity Center (SLAC) at Wenzhou-Kean University is a state-of-the-art
                        facility designed to enhance student learning and extracurricular activities. The center
                        provides various spaces for studying, collaboration, recreation, and events.</p>
                    <p>Our interactive website allows you to explore the different areas of SLAC virtually, helping you
                        locate specific facilities and learn about their features.</p>
                </div>
                <div class="col-lg-6">
                    <img src="img/slac-building.jpg" alt="SLAC Building" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <!-- Floor Plans Section -->
    <!-- Floor Plans Section -->
    <section id="floor-plans" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-4">Interactive Floor Plans</h2>
            <div class="row">
                <div class="col-md-3">
                    <!-- Floor Selection Sidebar -->
                    <div class="list-group floor-selector">
                        <button type="button" class="list-group-item list-group-item-action" data-floor="0">Basement Floor</button>
                        <div class="sub-floor-buttons" style="display: none;">
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="B101">B101</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="B102">B102</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="B116">B116</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="B118">B118</button>
                        </div>
                        <button type="button" class="list-group-item list-group-item-action active" data-floor="1">First Floor</button>
                        <button type="button" class="list-group-item list-group-item-action" data-floor="2">Second
                            Floor</button>
                        <button type="button" class="list-group-item list-group-item-action" data-floor="3">Third
                            Floor</button>
                        <div class="sub-floor-buttons-third" style="display: none;">
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="301">301</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="302">302</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="303">303</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="304">304</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="305">305</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="306">306</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="307">307</button>
                        </div>
                        <button type="button" class="list-group-item list-group-item-action" data-floor="4">Fourth
                            Floor</button>
                        <div class="sub-floor-buttons-fourth" style="display: none;">
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="401">401</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="402">402</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="403">403</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="404">404</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="405">405</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="410">410</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="412">412</button>
                        </div>
                        <button type="button" class="list-group-item list-group-item-action" data-floor="5">Fifth
                            Floor</button>
                        <div class="sub-floor-buttons-fifth" style="display: none;">
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="501">501</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="502">502</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="503">503</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="504">504</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="505">505</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="506">506</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="507">507</button>
                        </div>
                        <button type="button" class="list-group-item list-group-item-action" data-floor="6">Sixth
                            Floor</button>
                        <div class="sub-floor-buttons-sixth" style="display: none;">
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="601">601</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="602">602</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="605">605</button>
                            <button type="button" class="list-group-item list-group-item-action sub-floor" data-sub-floor="607">607</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <!-- Floor Plan Display Area -->
                    <div class="floor-plan-container">
                        <!-- Basement Floor -->
                        <div id="floor-0" class="floor-plan">
                            <img src="img/floor-plans/bf_0.png" alt="Basement Floor Plan" class="img-fluid"
                                usemap="#floor-0-map">
                            <map name="floor-0-map">
                                <!-- Hotspot areas for basement floor -->
                                <area shape="rect" coords="50,50,150,150" alt="Basement Location 1" href="#"
                                    data-toggle="modal" data-target="#locationModal"
                                    data-location="basement-location-1">
                            </map>
                        </div>

                        <!-- Sub-floor images -->
                        <div id="sub-floor-B101" class="floor-plan">
                            <img src="img/floor-plans/b101.png" alt="B101 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-B102" class="floor-plan">
                            <img src="img/floor-plans/b102.png" alt="B102 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-B116" class="floor-plan">
                            <img src="img/floor-plans/b116.png" alt="B116 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-B118" class="floor-plan">
                            <img src="img/floor-plans/b118.png" alt="B118 Floor Plan" class="img-fluid">
                        </div>

                        <!-- First Floor -->
                        <div id="floor-1" class="floor-plan active">
                            <img src="img/floor-plans/1f_1.png" alt="First Floor Plan" class="img-fluid"
                                usemap="#floor-1-map">
                            <map name="floor-1-map">
                                <area shape="rect" coords="50,50,150,150" alt="Lobby" href="#" data-toggle="modal"
                                    data-target="#locationModal" data-location="lobby">
                                <area shape="rect" coords="200,100,300,200" alt="Cafeteria" href="#" data-toggle="modal"
                                    data-target="#locationModal" data-location="cafeteria">
                            </map>
                        </div>

                        <!-- Second Floor -->
                        <div id="floor-2" class="floor-plan">
                            <img src="img/floor-plans/2f_1.png" alt="Second Floor Plan" class="img-fluid"
                                usemap="#floor-2-map">
                            <map name="floor-2-map">
                                <area shape="rect" coords="50,50,150,150" alt="Study Room 1" href="#"
                                    data-toggle="modal" data-target="#locationModal" data-location="study-room-1">
                                <area shape="rect" coords="200,100,300,200" alt="Computer Lab" href="#"
                                    data-toggle="modal" data-target="#locationModal" data-location="computer-lab">
                            </map>
                        </div>

                        <!-- Third Floor -->
                        <div id="floor-3" class="floor-plan">
                            <img src="img/floor-plans/3f_4.png" alt="Third Floor Plan" class="img-fluid"
                                usemap="#floor-3-map">
                            <map name="floor-3-map">
                                <area shape="rect" coords="50,50,150,150" alt="Third Location 1" href="#"
                                    data-toggle="modal" data-target="#locationModal" data-location="third-location-1">
                            </map>
                        </div>

                        <!-- Third Floor Sub-floor images -->
                        <div id="sub-floor-301" class="floor-plan">
                            <img src="img/floor-plans/301.png" alt="301 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-302" class="floor-plan">
                            <img src="img/floor-plans/302.png" alt="302 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-303" class="floor-plan">
                            <img src="img/floor-plans/303.png" alt="303 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-304" class="floor-plan">
                            <img src="img/floor-plans/304.png" alt="304 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-305" class="floor-plan">
                            <img src="img/floor-plans/305.png" alt="305 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-306" class="floor-plan">
                            <img src="img/floor-plans/306.png" alt="306 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-307" class="floor-plan">
                            <img src="img/floor-plans/307.png" alt="307 Floor Plan" class="img-fluid">
                        </div>

                        <!-- Fourth Floor -->
                        <div id="floor-4" class="floor-plan">
                            <img src="img/floor-plans/4f_5.png" alt="Fourth Floor Plan" class="img-fluid"
                                usemap="#floor-4-map">
                            <map name="floor-4-map">
                                <area shape="rect" coords="50,50,150,150" alt="Fourth Location 1" href="#"
                                    data-toggle="modal" data-target="#locationModal" data-location="fourth-location-1">
                            </map>
                        </div>

                        <!-- Fourth Floor Sub-floor images -->
                        <div id="sub-floor-401" class="floor-plan">
                            <img src="img/floor-plans/401.png" alt="401 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-402" class="floor-plan">
                            <img src="img/floor-plans/402.png" alt="402 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-403" class="floor-plan">
                            <img src="img/floor-plans/403.png" alt="403 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-404" class="floor-plan">
                            <img src="img/floor-plans/404.png" alt="404 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-405" class="floor-plan">
                            <img src="img/floor-plans/405.png" alt="405 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-410" class="floor-plan">
                            <img src="img/floor-plans/410.png" alt="410 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-412" class="floor-plan">
                            <img src="img/floor-plans/412.png" alt="412 Floor Plan" class="img-fluid">
                        </div>

                        <!-- Fifth Floor -->
                        <div id="floor-5" class="floor-plan">
                            <img src="img/floor-plans/5f_1.png" alt="Fifth Floor Plan" class="img-fluid"
                                usemap="#floor-5-map">
                            <map name="floor-5-map">
                                <area shape="rect" coords="50,50,150,150" alt="Fifth Location 1" href="#"
                                    data-toggle="modal" data-target="#locationModal" data-location="fifth-location-1">
                            </map>
                        </div>

                        <!-- Fifth Floor Sub-floor images -->
                        <div id="sub-floor-501" class="floor-plan">
                            <img src="img/floor-plans/501.png" alt="501 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-502" class="floor-plan">
                            <img src="img/floor-plans/502.png" alt="502 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-503" class="floor-plan">
                            <img src="img/floor-plans/503.png" alt="503 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-504" class="floor-plan">
                            <img src="img/floor-plans/504.png" alt="504 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-505" class="floor-plan">
                            <img src="img/floor-plans/505.png" alt="505 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-506" class="floor-plan">
                            <img src="img/floor-plans/506.png" alt="506 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-507" class="floor-plan">
                            <img src="img/floor-plans/507.png" alt="507 Floor Plan" class="img-fluid">
                        </div>

                        <!-- Sixth Floor -->
                        <div id="floor-6" class="floor-plan">
                            <img src="img/floor-plans/6f_1.png" alt="Sixth Floor Plan" class="img-fluid"
                                usemap="#floor-6-map">
                            <map name="floor-6-map">
                                <area shape="rect" coords="50,50,150,150" alt="Sixth Location 1" href="#"
                                    data-toggle="modal" data-target="#locationModal" data-location="sixth-location-1">
                            </map>
                        </div>

                        <!-- Sixth Floor Sub-floor images -->
                        <div id="sub-floor-601" class="floor-plan">
                            <img src="img/floor-plans/601.png" alt="601 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-602" class="floor-plan">
                            <img src="img/floor-plans/602.png" alt="602 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-605" class="floor-plan">
                            <img src="img/floor-plans/605.png" alt="605 Floor Plan" class="img-fluid">
                        </div>
                        <div id="sub-floor-607" class="floor-plan">
                            <img src="img/floor-plans/607.png" alt="607 Floor Plan" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>
    </section>

    <!-- Facilities Section -->
    <section id="facilities" class="py-5">
        <div class="container">
            <h2 class="text-center mb-4">Key Facilities</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <img src="img/locations/study-spaces.jpg" class="card-img-top" alt="Study Spaces">
                        <div class="card-body">
                            <h5 class="card-title">Study Spaces</h5>
                            <p class="card-text">Quiet areas designed for individual and group study sessions.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <img src="img/locations/computer-lab.jpg" class="card-img-top" alt="Computer Labs">
                        <div class="card-body">
                            <h5 class="card-title">Computer Labs</h5>
                            <p class="card-text">Fully equipped computer facilities for academic and research purposes.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <img src="img/locations/event-hall.jpg" class="card-img-top" alt="Event Halls">
                        <div class="card-body">
                            <h5 class="card-title">Event Halls</h5>
                            <p class="card-text">Spacious venues for university events, conferences, and activities.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Location Modal -->
    <div class="modal fade" id="locationModal" tabindex="-1" aria-labelledby="locationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="locationModalLabel">Location Details</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Content will be dynamically loaded based on selected location -->
                    <div id="location-details">
                        <div class="row">
                            <div class="col-md-6">
                                <img id="location-image" src="" alt="Location Image" class="img-fluid mb-3">
                            </div>
                            <div class="col-md-6">
                                <h4 id="location-name"></h4>
                                <p id="location-description"></p>
                                <h5>Features:</h5>
                                <ul id="location-features"></ul>
                                <h5>Operating Hours:</h5>
                                <p id="location-hours"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Student Learning & Activity Center</h5>
                    <p>Wenzhou-Kean University<br>88 Daxue Road, Ouhai<br>Wenzhou, Zhejiang, China</p>
                </div>
                <div class="col-md-3">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">Home</a></li>
                        <li><a href="#about" class="text-white">About</a></li>
                        <li><a href="#floor-plans" class="text-white">Floor Plans</a></li>
                        <li><a href="contact.html" class="text-white">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Connect</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">Facebook</a></li>
                        <li><a href="#" class="text-white">Twitter</a></li>
                        <li><a href="#" class="text-white">Instagram</a></li>
                        <li><a href="#" class="text-white">WeChat</a></li>
                    </ul>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 Wenzhou-Kean University. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/floorplan.js"></script>
    <script>
        $(document).ready(function () {
            // Check login status on page load
            $.ajax({
                url: 'php/auth/check_login_status.php',
                method: 'GET',
                dataType: 'json',
                success: function (response) {
                    if (response.loggedin) {
                        // User is logged in
                        $('#navbarNav .nav-item:last-child').html('<a class="nav-link btn btn-outline-light btn-sm ml-2" href="php/auth/logout.php">Logout (' + response.username + ')</a>');
                        $('#welcome-message').html('<div class="alert alert-success">Welcome, ' + response.username + '!</div>');

                        // Check if the logged-in user is admin123 and change the Contact link
                        if (response.username === 'admin123') {
                            $('#navbarNav .nav-item a[href="contact.html"]').attr('href', 'php/admin/view_feedback.php');
                        }
                    } else {
                        // User is not logged in
                        $('#navbarNav .nav-item:last-child').html('<a class="nav-link btn btn-outline-light btn-sm ml-2" href="php/auth/login.php">Login</a>');
                        // Ensure the Contact link is set to contact.html if not logged in or not admin
                        $('#navbarNav .nav-item a[href="php/admin/view_feedback.php"]').attr('href', 'contact.html');
                    }
                },
                error: function (xhr, status, error) {
                    console.error('Error checking login status:', error);
                    // Optionally, display a message or keep the default login link
                }
            });
        });
    </script>
</body>

</html>